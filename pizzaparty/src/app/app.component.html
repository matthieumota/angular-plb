<h1>{{ title }}</h1>

@if (selectedPizza) {
<div *ngIf="selectedPizza">
  <h2>{{ selectedPizza.name }} ({{ selectedPizza.id }})</h2>
  <input type="text" [value]="selectedPizza.name" (input)="selectedPizza.name = $any($event.target).value">
  <input type="text" [(ngModel)]="selectedPizza.name">
  <p>Prix: {{ selectedPizza.price }}</p>
  <img [src]="selectedPizza.image" [alt]="selectedPizza.name">
</div>
}

<h2>Les pizzas</h2>
<ul class="pizzas">
  <!-- <ng-template ngFor let-pizza [ngForOf]="pizzas"> -->
    <li *ngFor="let pizza of pizzas"
      (click)="onSelect(pizza)"
      [class.selected]="selectedPizza && selectedPizza.id === pizza.id"
      [ngClass]="{
        selected: selectedPizza && selectedPizza.id === pizza.id,
        unselected: !selectedPizza || selectedPizza.id !== pizza.id
      }"
    >
      <h3>{{ pizza.name }} ({{ pizza.id }})</h3>
      <p>Prix: {{ pizza.price }}</p>
      <img [src]="pizza.image" [alt]="pizza.name">
    </li>
  <!-- </ng-template> -->

  @for (item of pizzas; track item.id) {
    <li>
      {{ item.name }} ({{ $index }})
    </li>
  }
</ul>
